<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:modeler="http://camunda.org/schema/modeler/1.0" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Web Modeler" exporterVersion="8c4dae7" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.5.0" camunda:diagramRelationId="bd9a9cd4-1c73-4d9c-9de0-ad1c209baa3d">
  <bpmn:collaboration id="pcf-send-request-response" name="Health Check and Issue SHL">
    <bpmn:extensionElements>
      <zeebe:properties>
        <zeebe:property name="ig-slug" value="ips-pilgrimage" />
        <zeebe:property name="ig-base-url" value="http://smart.who.int/" />
      </zeebe:properties>
    </bpmn:extensionElements>
    <bpmn:participant id="paricipant-id-on-overall-business-process" name="Health Check and Counseling" processRef="health-check-and-shl-issuance">
      <bpmn:documentation>This is the documentation for the overall business process - Element documentation</bpmn:documentation>
    </bpmn:participant>
  </bpmn:collaboration>
  <bpmn:process id="health-check-and-shl-issuance" name="Health Check and SHL Issuance" isExecutable="true">
    <bpmn:documentation>This is the documentation for the overall business process - process documentation</bpmn:documentation>
    <bpmn:extensionElements />
    <bpmn:laneSet id="LaneSet_1308ahs">
      <bpmn:lane id="person" name="Human Actor">
        <bpmn:extensionElements>
          <zeebe:properties>
            <zeebe:property />
          </zeebe:properties>
        </bpmn:extensionElements>
        <bpmn:flowNodeRef>Activity_1jht4ag</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0xa7by2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1n6cwq1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0xwr9el</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0gm5pkg</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_176634l</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1snfpmi</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0yb3wn5</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1816554</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_09jhr1u</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>end</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_04xon9j</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0lhorix</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0yf20k9</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1exhagt</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>start</bpmn:flowNodeRef>
        <bpmn:childLaneSet id="LaneSet_0c6j9ft">
          <bpmn:lane id="counselor" name="Counselor">
            <bpmn:documentation>Counselor from origin country supporting Hajj pilgrim during inital health screening</bpmn:documentation>
            <bpmn:extensionElements>
              <zeebe:properties>
                <zeebe:property name="actorType" value="person" />
                <zeebe:property name="actorCS" value="http://smart.who.int/ips-pilgrimage/CodeSystem/IPS.HAJJ.ACTOR" />
              </zeebe:properties>
            </bpmn:extensionElements>
            <bpmn:flowNodeRef>Activity_1jht4ag</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_0xa7by2</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Gateway_0xwr9el</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_0gm5pkg</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Gateway_176634l</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_1snfpmi</bpmn:flowNodeRef>
          </bpmn:lane>
          <bpmn:lane id="pilgrim" name="Pilgrim">
            <bpmn:documentation>The Hajj pilgrim</bpmn:documentation>
            <bpmn:extensionElements>
              <zeebe:properties>
                <zeebe:property name="actorType" value="person" />
                <zeebe:property name="actorCS" value="http://smart.who.int/ips-pilgrimage/CodeSystem/IPS.HAJJ.ACTOR" />
              </zeebe:properties>
            </bpmn:extensionElements>
            <bpmn:flowNodeRef>Activity_1n6cwq1</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_0yb3wn5</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_1816554</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_09jhr1u</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>end</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_04xon9j</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_0lhorix</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Gateway_0yf20k9</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Gateway_1exhagt</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>start</bpmn:flowNodeRef>
          </bpmn:lane>
        </bpmn:childLaneSet>
      </bpmn:lane>
      <bpmn:lane id="system" name="System Actor">
        <bpmn:flowNodeRef>consent-wallet-send</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1tqblox</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1b3u4vx</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_09oy5wb</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>consent-wallet-receive</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>display-shl</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0kvk608</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0ibmc50</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>shl-config-receive</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>shl-config-send</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>generate-shl</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1hhzmu2</bpmn:flowNodeRef>
        <bpmn:childLaneSet id="LaneSet_0ude7xg">
          <bpmn:lane id="ochw" name="Origin Country  Wallet">
            <bpmn:documentation>The pilgrim's origin country's digital health wallet</bpmn:documentation>
            <bpmn:extensionElements>
              <zeebe:properties>
                <zeebe:property name="actorType" value="system" />
                <zeebe:property name="actorCS" value="http://smart.who.int/ips-pilgrimage/CodeSystem/IPS.HAJJ.ACTOR" />
              </zeebe:properties>
            </bpmn:extensionElements>
            <bpmn:flowNodeRef>consent-wallet-send</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Gateway_1tqblox</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_1b3u4vx</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_09oy5wb</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>display-shl</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_0kvk608</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>shl-config-send</bpmn:flowNodeRef>
          </bpmn:lane>
          <bpmn:lane id="ochie" name="Origin Country  HIE">
            <bpmn:documentation>The pilgrim's origin country's HIE or national system</bpmn:documentation>
            <bpmn:extensionElements>
              <zeebe:properties>
                <zeebe:property name="actorType" value="system" />
                <zeebe:property name="actorCS" value="http://smart.who.int/ips-pilgrimage/CodeSystem/IPS.HAJJ.ACTOR" />
              </zeebe:properties>
            </bpmn:extensionElements>
            <bpmn:flowNodeRef>consent-wallet-receive</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_0ibmc50</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>shl-config-receive</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>generate-shl</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Activity_1hhzmu2</bpmn:flowNodeRef>
          </bpmn:lane>
        </bpmn:childLaneSet>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:task id="Activity_1jht4ag" name="registration">
      <bpmn:incoming>Flow_0iheqx2</bpmn:incoming>
      <bpmn:outgoing>Flow_0p1zsdd</bpmn:outgoing>
    </bpmn:task>
    <bpmn:businessRuleTask id="Activity_0xa7by2" name="Conduct health assessment">
      <bpmn:extensionElements>
        <zeebe:calledDecision decisionId="conduct-health-assessment-0qi90kd" resultVariable="eligible-for-hajj" />
        <zeebe:ioMapping>
          <zeebe:output source="=e" target="OutputVariable_3g54vj1" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0p1zsdd</bpmn:incoming>
      <bpmn:outgoing>Flow_0ztm52d</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:sequenceFlow id="Flow_0iheqx2" sourceRef="Activity_1n6cwq1" targetRef="Activity_1jht4ag" />
    <bpmn:sequenceFlow id="Flow_0p1zsdd" sourceRef="Activity_1jht4ag" targetRef="Activity_0xa7by2" />
    <bpmn:sequenceFlow id="Flow_19ry657" sourceRef="start" targetRef="Activity_1n6cwq1" />
    <bpmn:sequenceFlow id="Flow_1fxg1pw" name="yes" sourceRef="Gateway_0xwr9el" targetRef="Activity_1snfpmi">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0ztm52d" sourceRef="Activity_0xa7by2" targetRef="Gateway_0xwr9el" />
    <bpmn:task id="Activity_1n6cwq1" name="arrive to clinic">
      <bpmn:incoming>Flow_19ry657</bpmn:incoming>
      <bpmn:outgoing>Flow_0iheqx2</bpmn:outgoing>
    </bpmn:task>
    <bpmn:startEvent id="start" name="Start">
      <bpmn:outgoing>Flow_19ry657</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_04dojt9" sourceRef="Activity_1816554" targetRef="Gateway_0yf20k9" />
    <bpmn:sequenceFlow id="Flow_0a4vu68" sourceRef="Activity_09jhr1u" targetRef="end" />
    <bpmn:sequenceFlow id="Flow_12iekjm" sourceRef="Gateway_0yf20k9" targetRef="Activity_09jhr1u" />
    <bpmn:sequenceFlow id="Flow_05vjpyw" name="yes" sourceRef="Gateway_176634l" targetRef="Activity_0lhorix">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_11qz8j3" sourceRef="Activity_09oy5wb" targetRef="Activity_04xon9j" />
    <bpmn:sequenceFlow id="pcf-record-consent" name="record consent from wallet" sourceRef="consent-wallet-send" targetRef="consent-wallet-receive">
      <bpmn:documentation>This is the IHE PCF record consent transaction</bpmn:documentation>
      <bpmn:extensionElements>
        <zeebe:properties>
          <zeebe:property name="messageSemantics" value="it is a FHIR Consent resource set as PUT or POST" />
          <zeebe:property name="expectedActions" value="the consent is stored in the consent repository" />
          <zeebe:property name="triggerEvents" value="a consent directive has been recorded by a digital health wallet" />
        </zeebe:properties>
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_08q0465" sourceRef="Activity_1b3u4vx" targetRef="Gateway_1tqblox" />
    <bpmn:sequenceFlow id="Flow_0mxxjuq" name="yes" sourceRef="Gateway_1tqblox" targetRef="consent-wallet-send">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0i7fr2p" sourceRef="Gateway_1exhagt" targetRef="Gateway_0yf20k9" />
    <bpmn:exclusiveGateway id="Gateway_0xwr9el" name="eligible for Hajj?">
      <bpmn:incoming>Flow_0ztm52d</bpmn:incoming>
      <bpmn:outgoing>Flow_1fxg1pw</bpmn:outgoing>
      <bpmn:outgoing>Flow_1b64o6u</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Activity_0gm5pkg" name="inform patient ineligibel for Hajj">
      <bpmn:incoming>Flow_1b64o6u</bpmn:incoming>
      <bpmn:outgoing>Flow_0bl66dk</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_1b64o6u" name="no" sourceRef="Gateway_0xwr9el" targetRef="Activity_0gm5pkg">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0bl66dk" sourceRef="Activity_0gm5pkg" targetRef="Gateway_0yf20k9" />
    <bpmn:sequenceFlow id="shl-issue" name="issue SHL" sourceRef="display-shl" targetRef="Activity_1816554" />
    <bpmn:sendTask id="consent-wallet-send" name="send Consent">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="consent-wallet" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0mxxjuq</bpmn:incoming>
      <bpmn:outgoing>pcf-record-consent</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:exclusiveGateway id="Gateway_1tqblox" name="pilgrim confirmed consent in wallet?&#10; (may be implicit)">
      <bpmn:incoming>Flow_08q0465</bpmn:incoming>
      <bpmn:outgoing>Flow_0mxxjuq</bpmn:outgoing>
      <bpmn:outgoing>Flow_0z1aei1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_176634l" name="pilgrim provided consent to counselor?">
      <bpmn:incoming>Flow_03472g5</bpmn:incoming>
      <bpmn:outgoing>Flow_0080k6j</bpmn:outgoing>
      <bpmn:outgoing>Flow_05vjpyw</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Activity_1snfpmi" name="Counsel patient on consent and digital health walllet">
      <bpmn:incoming>Flow_1fxg1pw</bpmn:incoming>
      <bpmn:outgoing>Flow_03472g5</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0z1aei1" name="no" sourceRef="Gateway_1tqblox" targetRef="Gateway_1exhagt">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0080k6j" name="no" sourceRef="Gateway_176634l" targetRef="Gateway_1exhagt">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_03472g5" sourceRef="Activity_1snfpmi" targetRef="Gateway_176634l" />
    <bpmn:businessRuleTask id="Activity_1b3u4vx" name="process consent form">
      <bpmn:extensionElements>
        <zeebe:calledDecision decisionId="process-wallet-consent" resultVariable="wallet-consent-provided" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1y3l2jc</bpmn:incoming>
      <bpmn:outgoing>Flow_08q0465</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:sequenceFlow id="Flow_1y3l2jc" sourceRef="Activity_04xon9j" targetRef="Activity_1b3u4vx" />
    <bpmn:task id="Activity_09oy5wb" name="display consent form">
      <bpmn:incoming>Flow_0le30id</bpmn:incoming>
      <bpmn:outgoing>Flow_11qz8j3</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0le30id" sourceRef="Activity_0lhorix" targetRef="Activity_09oy5wb" />
    <bpmn:sequenceFlow id="Flow_1bl0jav" sourceRef="consent-wallet-receive" targetRef="Activity_0ibmc50" />
    <bpmn:receiveTask id="consent-wallet-receive" name="Receive consent" messageRef="Message_1cvgb5c">
      <bpmn:incoming>pcf-record-consent</bpmn:incoming>
      <bpmn:outgoing>Flow_1bl0jav</bpmn:outgoing>
    </bpmn:receiveTask>
    <bpmn:sequenceFlow id="Flow_0017hoi" sourceRef="shl-config-receive" targetRef="Activity_1hhzmu2" />
    <bpmn:sequenceFlow id="Flow_1cdclfl" sourceRef="Activity_1hhzmu2" targetRef="generate-shl" />
    <bpmn:sequenceFlow id="Flow_19wiv39" sourceRef="generate-shl" targetRef="display-shl" />
    <bpmn:receiveTask id="display-shl" name="display SHL" messageRef="Message_3ommqi4">
      <bpmn:incoming>Flow_19wiv39</bpmn:incoming>
      <bpmn:outgoing>shl-issue</bpmn:outgoing>
    </bpmn:receiveTask>
    <bpmn:task id="Activity_0kvk608" name="display SHL configuration form">
      <bpmn:incoming>Flow_12ddnmd</bpmn:incoming>
      <bpmn:outgoing>Flow_1eoxco1</bpmn:outgoing>
    </bpmn:task>
    <bpmn:serviceTask id="Activity_0ibmc50" name="store consent directives">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="consent-wallet" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1bl0jav</bpmn:incoming>
      <bpmn:outgoing>Flow_12ddnmd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1eoxco1" sourceRef="Activity_0kvk608" targetRef="Activity_0yb3wn5" />
    <bpmn:sequenceFlow id="Flow_12ddnmd" sourceRef="Activity_0ibmc50" targetRef="Activity_0kvk608" />
    <bpmn:receiveTask id="shl-config-receive" name="receive SHL privacy configuration" messageRef="Message_09q730l">
      <bpmn:incoming>Flow_1yejbww</bpmn:incoming>
      <bpmn:outgoing>Flow_0017hoi</bpmn:outgoing>
    </bpmn:receiveTask>
    <bpmn:sendTask id="shl-config-send" name="process privacy configuration form for SHL">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="shl-configure" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_144svjz</bpmn:incoming>
      <bpmn:outgoing>Flow_1yejbww</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="Flow_1yejbww" name="request SHL from HIE" sourceRef="shl-config-send" targetRef="shl-config-receive" />
    <bpmn:sequenceFlow id="Flow_144svjz" name="request SHL&#10;from wallet" sourceRef="Activity_0yb3wn5" targetRef="shl-config-send" />
    <bpmn:sendTask id="generate-shl" name="generate Verifiable SHL">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="generate-shl" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1cdclfl</bpmn:incoming>
      <bpmn:outgoing>Flow_19wiv39</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:serviceTask id="Activity_1hhzmu2" name="configure access to IPS via SHL">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="generate-shl" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0017hoi</bpmn:incoming>
      <bpmn:outgoing>Flow_1cdclfl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Activity_0yb3wn5" name="configure SHL privacy settings on wallet">
      <bpmn:extensionElements>
        <zeebe:formDefinition formId="configure-shl-privacy-settings-0h1nulx" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1eoxco1</bpmn:incoming>
      <bpmn:outgoing>Flow_144svjz</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:task id="Activity_1816554" name="Review SHL">
      <bpmn:incoming>shl-issue</bpmn:incoming>
      <bpmn:outgoing>Flow_04dojt9</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_09jhr1u" name="leave clinic">
      <bpmn:incoming>Flow_12iekjm</bpmn:incoming>
      <bpmn:outgoing>Flow_0a4vu68</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="end" name="End">
      <bpmn:incoming>Flow_0a4vu68</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="Activity_04xon9j" name="fiill consent form for sharing IPS during Hajj on wallet">
      <bpmn:extensionElements>
        <zeebe:formDefinition formId="confirm-consent-for-document-sharing-during-hajj-1ihgme1" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_11qz8j3</bpmn:incoming>
      <bpmn:outgoing>Flow_1y3l2jc</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:task id="Activity_0lhorix" name="login to wallet app">
      <bpmn:incoming>Flow_05vjpyw</bpmn:incoming>
      <bpmn:outgoing>Flow_0le30id</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_0yf20k9">
      <bpmn:incoming>Flow_04dojt9</bpmn:incoming>
      <bpmn:incoming>Flow_0bl66dk</bpmn:incoming>
      <bpmn:incoming>Flow_0i7fr2p</bpmn:incoming>
      <bpmn:outgoing>Flow_12iekjm</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_1exhagt">
      <bpmn:incoming>Flow_0z1aei1</bpmn:incoming>
      <bpmn:incoming>Flow_0080k6j</bpmn:incoming>
      <bpmn:outgoing>Flow_0i7fr2p</bpmn:outgoing>
    </bpmn:exclusiveGateway>
  </bpmn:process>
  <bpmn:message id="Message_1n4qpip" name="Message_1n4qpip">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=generated-shl" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_1cvgb5c" name="Message_1cvgb5c">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=true" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_09q730l" name="Message_09q730l">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=true" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3ommqi4" name="Message_3ommqi4">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=true" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="pcf-send-request-response">
      <bpmndi:BPMNShape id="Participant_0uiz6xe_di" bpmnElement="paricipant-id-on-overall-business-process" isHorizontal="true">
        <dc:Bounds x="156" y="80" width="1724" height="1180" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_13q8v15_di" bpmnElement="system" isHorizontal="true">
        <dc:Bounds x="186" y="761" width="1694" height="499" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_199ojgt_di" bpmnElement="ochie" isHorizontal="true">
        <dc:Bounds x="216" y="971" width="1664" height="289" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1p8tylt_di" bpmnElement="ochw" isHorizontal="true">
        <dc:Bounds x="216" y="761" width="1664" height="210" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0k8v3kc_di" bpmnElement="person" isHorizontal="true">
        <dc:Bounds x="186" y="80" width="1694" height="681" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1cqu3jb_di" bpmnElement="pilgrim" isHorizontal="true">
        <dc:Bounds x="216" y="431" width="1664" height="330" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1kqd05k_di" bpmnElement="counselor" isHorizontal="true">
        <dc:Bounds x="216" y="80" width="1664" height="351" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1jht4ag_di" bpmnElement="Activity_1jht4ag">
        <dc:Bounds x="326" y="261" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0xa7by2_di" bpmnElement="Activity_0xa7by2">
        <dc:Bounds x="326" y="120" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1n6cwq1_di" bpmnElement="Activity_1n6cwq1">
        <dc:Bounds x="326" y="470" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="start">
        <dc:Bounds x="238" y="492" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="246" y="535" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0xwr9el_di" bpmnElement="Gateway_0xwr9el" isMarkerVisible="true">
        <dc:Bounds x="515" y="135" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="500" y="111" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0vwhop0" bpmnElement="Activity_0gm5pkg">
        <dc:Bounds x="490" y="261" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ka8fma_di" bpmnElement="consent-wallet-send">
        <dc:Bounds x="1220" y="820" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1tqblox_di" bpmnElement="Gateway_1tqblox" isMarkerVisible="true">
        <dc:Bounds x="1395" y="835" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1376" y="892" width="88" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_176634l_di" bpmnElement="Gateway_176634l" isMarkerVisible="true">
        <dc:Bounds x="1395" y="276" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1307" y="281" width="78" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1snfpmi_di" bpmnElement="Activity_1snfpmi">
        <dc:Bounds x="1370" y="120" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1b3u4vx_di" bpmnElement="Activity_1b3u4vx">
        <dc:Bounds x="1530" y="820" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_09oy5wb_di" bpmnElement="Activity_09oy5wb">
        <dc:Bounds x="1720" y="820" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0z9ddbr_di" bpmnElement="consent-wallet-receive">
        <dc:Bounds x="1220" y="1040" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_15wj3hr_di" bpmnElement="display-shl">
        <dc:Bounds x="620" y="820" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0kvk608_di" bpmnElement="Activity_0kvk608">
        <dc:Bounds x="1070" y="820" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ibmc50_di" bpmnElement="Activity_0ibmc50">
        <dc:Bounds x="1070" y="1040" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1niy8wu_di" bpmnElement="shl-config-receive">
        <dc:Bounds x="920" y="1040" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0niyeac_di" bpmnElement="shl-config-send">
        <dc:Bounds x="920" y="820" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1douwyd_di" bpmnElement="generate-shl">
        <dc:Bounds x="620" y="1040" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1v9uaqh_di" bpmnElement="Activity_1hhzmu2">
        <dc:Bounds x="780" y="1040" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_09y70z5" bpmnElement="Activity_0yb3wn5">
        <dc:Bounds x="1000" y="560" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1816554_di" bpmnElement="Activity_1816554">
        <dc:Bounds x="620" y="560" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_043ddv2" bpmnElement="Activity_09jhr1u">
        <dc:Bounds x="326" y="640" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0m3zeby_di" bpmnElement="end">
        <dc:Bounds x="238" y="662" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="246" y="705" width="20" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_04xon9j_di" bpmnElement="Activity_04xon9j">
        <dc:Bounds x="1530" y="560" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0lhorix_di" bpmnElement="Activity_0lhorix">
        <dc:Bounds x="1720" y="560" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0yf20k9_di" bpmnElement="Gateway_0yf20k9" isMarkerVisible="true">
        <dc:Bounds x="515" y="495" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1exhagt_di" bpmnElement="Gateway_1exhagt" isMarkerVisible="true">
        <dc:Bounds x="1395" y="495" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0iheqx2_di" bpmnElement="Flow_0iheqx2">
        <di:waypoint x="376" y="470" />
        <di:waypoint x="376" y="341" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p1zsdd_di" bpmnElement="Flow_0p1zsdd">
        <di:waypoint x="376" y="261" />
        <di:waypoint x="376" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19ry657_di" bpmnElement="Flow_19ry657">
        <di:waypoint x="274" y="510" />
        <di:waypoint x="326" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fxg1pw_di" bpmnElement="Flow_1fxg1pw">
        <di:waypoint x="565" y="160" />
        <di:waypoint x="1370" y="160" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="609" y="142" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ztm52d_di" bpmnElement="Flow_0ztm52d">
        <di:waypoint x="426" y="160" />
        <di:waypoint x="515" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04dojt9_di" bpmnElement="Flow_04dojt9">
        <di:waypoint x="670" y="560" />
        <di:waypoint x="670" y="540" />
        <di:waypoint x="545" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0a4vu68_di" bpmnElement="Flow_0a4vu68">
        <di:waypoint x="326" y="680" />
        <di:waypoint x="274" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12iekjm_di" bpmnElement="Flow_12iekjm">
        <di:waypoint x="540" y="545" />
        <di:waypoint x="540" y="680" />
        <di:waypoint x="426" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05vjpyw_di" bpmnElement="Flow_05vjpyw">
        <di:waypoint x="1445" y="301" />
        <di:waypoint x="1780" y="301" />
        <di:waypoint x="1780" y="560" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1475" y="274" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11qz8j3_di" bpmnElement="Flow_11qz8j3">
        <di:waypoint x="1720" y="860" />
        <di:waypoint x="1680" y="860" />
        <di:waypoint x="1680" y="600" />
        <di:waypoint x="1630" y="600" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_007ui0a_di" bpmnElement="pcf-record-consent">
        <di:waypoint x="1270" y="900" />
        <di:waypoint x="1270" y="1040" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1283" y="940" width="73" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08q0465_di" bpmnElement="Flow_08q0465">
        <di:waypoint x="1530" y="860" />
        <di:waypoint x="1445" y="860" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mxxjuq_di" bpmnElement="Flow_0mxxjuq">
        <di:waypoint x="1395" y="860" />
        <di:waypoint x="1320" y="860" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1367" y="833" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0i7fr2p_di" bpmnElement="Flow_0i7fr2p">
        <di:waypoint x="1395" y="520" />
        <di:waypoint x="565" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1b64o6u_di" bpmnElement="Flow_1b64o6u">
        <di:waypoint x="540" y="185" />
        <di:waypoint x="540" y="261" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="553" y="209" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0bl66dk_di" bpmnElement="Flow_0bl66dk">
        <di:waypoint x="540" y="341" />
        <di:waypoint x="540" y="495" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rtjdkl_di" bpmnElement="shl-issue">
        <di:waypoint x="670" y="820" />
        <di:waypoint x="670" y="640" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="614" y="691" width="51" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z1aei1_di" bpmnElement="Flow_0z1aei1">
        <di:waypoint x="1420" y="835" />
        <di:waypoint x="1420" y="545" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1393" y="793" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0080k6j_di" bpmnElement="Flow_0080k6j">
        <di:waypoint x="1420" y="326" />
        <di:waypoint x="1420" y="495" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1423" y="403" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03472g5_di" bpmnElement="Flow_03472g5">
        <di:waypoint x="1420" y="200" />
        <di:waypoint x="1420" y="276" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1y3l2jc_di" bpmnElement="Flow_1y3l2jc">
        <di:waypoint x="1580" y="640" />
        <di:waypoint x="1580" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0le30id_di" bpmnElement="Flow_0le30id">
        <di:waypoint x="1770" y="640" />
        <di:waypoint x="1770" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bl0jav_di" bpmnElement="Flow_1bl0jav">
        <di:waypoint x="1220" y="1080" />
        <di:waypoint x="1170" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0017hoi_di" bpmnElement="Flow_0017hoi">
        <di:waypoint x="920" y="1080" />
        <di:waypoint x="880" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1cdclfl_di" bpmnElement="Flow_1cdclfl">
        <di:waypoint x="780" y="1080" />
        <di:waypoint x="720" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19wiv39_di" bpmnElement="Flow_19wiv39">
        <di:waypoint x="670" y="1040" />
        <di:waypoint x="670" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1eoxco1_di" bpmnElement="Flow_1eoxco1">
        <di:waypoint x="1120" y="820" />
        <di:waypoint x="1120" y="600" />
        <di:waypoint x="1100" y="600" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12ddnmd_di" bpmnElement="Flow_12ddnmd">
        <di:waypoint x="1120" y="1040" />
        <di:waypoint x="1120" y="900" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1075" y="933" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1yejbww_di" bpmnElement="Flow_1yejbww">
        <di:waypoint x="970" y="900" />
        <di:waypoint x="970" y="1040" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="887" y="940" width="86" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_144svjz_di" bpmnElement="Flow_144svjz">
        <di:waypoint x="1000" y="600" />
        <di:waypoint x="970" y="600" />
        <di:waypoint x="970" y="820" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="899" y="678" width="62" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
